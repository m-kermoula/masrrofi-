<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØªØ¬Ø± Ù…ØµØ±ÙˆÙÙŠ - Ø§Ù„Ø¨Ù‚Ø§Ù„Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</title>
    <style>
        :root {
            --primary-color: #10b981;
            --secondary-color: #059669;
            --danger-color: #ef4444;
            --warning-color: #f97316;
            --light-bg: #f3f4f6;
            --text-dark: #1f2937;
            --text-light: #6b7280;
            --border-color: #e5e7eb;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--light-bg);
            color: var(--text-dark);
            line-height: 1.6;
        }

        header {
            background: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 0.8rem;
            cursor: pointer;
        }

        .logo-image {
            width: 40px;
            height: 40px;
            border-radius: 6px;
            object-fit: contain;
            background: white;
            padding: 2px;
        }

        .logo-text {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .logo-text small {
            font-size: 0.7rem;
            color: var(--text-light);
            font-weight: normal;
        }

        .nav-items {
            display: flex;
            gap: 1.5rem;
            list-style: none;
            align-items: center;
        }

        .nav-items a, .nav-items button {
            cursor: pointer;
            background: none;
            border: none;
            color: var(--text-dark);
            text-decoration: none;
            font-size: 0.95rem;
            transition: color 0.3s;
        }

        .nav-items a:hover, .nav-items button:hover {
            color: var(--primary-color);
        }

        .cart-icon {
            position: relative;
        }

        .cart-count {
            position: absolute;
            top: -8px;
            left: -8px;
            background: var(--danger-color);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: bold;
        }

        .admin-btn {
            background: var(--primary-color);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background 0.3s;
        }

        .admin-btn:hover {
            background: var(--secondary-color);
        }

        .main-container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        /* Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .hero {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 3rem;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 2rem;
        }

        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
        }

        .hero .btn {
            background: white;
            color: var(--primary-color);
        }

        .neighborhoods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .neighborhood-card {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .neighborhood-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.15);
        }

        .neighborhood-card h3 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        /* Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .category-item {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .category-item:hover {
            border-color: var(--primary-color);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .category-item.active {
            background: var(--primary-color);
            color: white;
        }

        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª */
        .products-section {
            display: flex;
            gap: 2rem;
        }

        .filters-sidebar {
            width: 250px;
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            height: fit-content;
        }

        .filter-group {
            margin-bottom: 1.5rem;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 1rem;
        }

        .filter-group:last-child {
            border-bottom: none;
        }

        .filter-group h4 {
            margin-bottom: 0.8rem;
            font-size: 0.95rem;
        }

        .filter-group input, .filter-group select {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            margin-bottom: 0.5rem;
        }

        .products-container {
            flex: 1;
        }

        .search-bar {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .search-bar input {
            flex: 1;
            padding: 0.8rem;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 1rem;
        }

        .search-bar button {
            padding: 0.8rem 1.5rem;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .search-bar button:hover {
            background: var(--secondary-color);
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1.5rem;
        }

        .product-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.15);
        }

        .product-image {
            width: 100%;
            height: 150px;
            background: var(--light-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            overflow: hidden;
            position: relative;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
        }

        .product-image-emoji {
            position: relative;
            z-index: 1;
        }

        .product-info {
            padding: 1rem;
        }

        .product-name {
            font-weight: bold;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }

        .product-price {
            color: var(--primary-color);
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .product-stock {
            font-size: 0.8rem;
            color: var(--text-light);
            margin-bottom: 0.8rem;
        }

        .stock-warning {
            color: var(--warning-color);
        }

        .stock-out {
            color: var(--danger-color);
        }

        .btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 0.6rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.3s;
            font-size: 0.9rem;
            width: 100%;
            text-align: center;
            text-decoration: none;
            display: inline-block;
        }

        .btn:hover {
            background: var(--secondary-color);
        }

        .btn.btn-secondary {
            background: #6b7280;
        }

        .btn.btn-secondary:hover {
            background: #4b5563;
        }

        .btn:disabled {
            background: #d1d5db;
            cursor: not-allowed;
        }

        /* ØµÙØ­Ø© Ø§Ù„Ù…Ù†ØªØ¬ */
        .product-detail {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            display: flex;
            gap: 2rem;
        }

        .product-detail-image {
            flex: 1;
            background: var(--light-bg);
            min-height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 6rem;
            border-radius: 8px;
            position: relative;
            overflow: hidden;
        }

        .product-detail-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
        }

        .product-detail-image-emoji {
            position: relative;
            z-index: 1;
        }

        .product-detail-info {
            flex: 1;
        }

        .product-detail-info h1 {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .product-detail-info .price {
            font-size: 1.8rem;
            color: var(--primary-color);
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .product-detail-info .description {
            color: var(--text-light);
            margin-bottom: 1.5rem;
            line-height: 1.8;
        }

        .product-detail-info .category-tag {
            display: inline-block;
            background: var(--light-bg);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .quantity-selector {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .quantity-selector button {
            background: var(--light-bg);
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1.1rem;
        }

        .quantity-selector input {
            width: 60px;
            text-align: center;
            padding: 0.5rem;
            border: 1px solid var(--border-color);
            border-radius: 4px;
        }

        /* Ø§Ù„Ø³Ù„Ø© */
        .cart-empty {
            text-align: center;
            padding: 3rem;
            background: white;
            border-radius: 8px;
        }

        .cart-empty h2 {
            color: var(--text-light);
            margin-bottom: 1rem;
        }

        .cart-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
        }

        .cart-table thead {
            background: var(--light-bg);
        }

        .cart-table th {
            padding: 1rem;
            text-align: right;
            font-weight: bold;
        }

        .cart-table td {
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .cart-table tr:last-child td {
            border-bottom: none;
        }

        .cart-summary {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            margin-top: 1.5rem;
            max-width: 400px;
            margin-right: 0;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .summary-row:last-child {
            border-bottom: none;
        }

        .summary-row.total {
            font-weight: bold;
            font-size: 1.2rem;
            color: var(--primary-color);
        }

        /* Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„ØªØ£ÙƒÙŠØ¯ */
        .checkout-form {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            max-width: 600px;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 1rem;
            font-family: inherit;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .delivery-fee-info {
            background: var(--light-bg);
            padding: 1rem;
            border-radius: 4px;
            margin: 1rem 0;
            border-left: 4px solid var(--primary-color);
        }

        .confirmation-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .confirmation-modal.active {
            display: flex;
        }

        .confirmation-content {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .confirmation-item {
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .confirmation-item:last-child {
            border-bottom: none;
        }

        .confirmation-item strong {
            display: block;
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .confirmation-item span {
            display: block;
            font-size: 1.1rem;
            color: var(--text-dark);
            margin-top: 0.3rem;
        }

        .confirmation-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .confirmation-buttons button {
            flex: 1;
        }

        /* ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨ */
        .order-tracking {
            background: white;
            padding: 2rem;
            border-radius: 8px;
        }

        .order-status-timeline {
            margin: 2rem 0;
        }

        .status-step {
            display: flex;
            margin-bottom: 2rem;
            position: relative;
        }

        .status-step::before {
            content: '';
            position: absolute;
            right: 20px;
            top: 45px;
            width: 2px;
            height: 60px;
            background: var(--border-color);
        }

        .status-step:last-child::before {
            display: none;
        }

        .status-dot {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--light-bg);
            border: 3px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1.5rem;
            flex-shrink: 0;
            font-weight: bold;
        }

        .status-step.completed .status-dot {
            background: var(--primary-color);
            border-color: var(--primary-color);
            color: white;
        }

        .status-step.current .status-dot {
            background: white;
            border-color: var(--primary-color);
            color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }

        .status-info h4 {
            margin-bottom: 0.3rem;
        }

        .status-info p {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        /* Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ„ */
        .account-section {
            background: white;
            padding: 2rem;
            border-radius: 8px;
        }

        .account-section h2 {
            margin-bottom: 1.5rem;
        }

        .orders-list {
            margin-top: 2rem;
        }

        .order-item {
            background: var(--light-bg);
            padding: 1rem;
            border-radius: 6px;
            margin-bottom: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* Ø§Ù„ØªÙˆØ§ØµÙ„ ÙˆØ§Ù„Ø³ÙŠØ§Ø³Ø§Øª */
        .contact-form {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            max-width: 600px;
        }

        .contact-info {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .contact-info-icon {
            font-size: 1.5rem;
            color: var(--primary-color);
        }

        .policies-content {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            line-height: 1.8;
        }

        .policies-content h2 {
            color: var(--primary-color);
            margin-top: 2rem;
            margin-bottom: 1rem;
        }

        .policies-content h3 {
            margin-top: 1.5rem;
            margin-bottom: 0.8rem;
        }

        .policies-content ul {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }

        .policies-content li {
            margin-bottom: 0.5rem;
        }

        /* Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© */
        .admin-panel {
            background: white;
            padding: 2rem;
            border-radius: 8px;
        }

        .admin-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            border-bottom: 2px solid var(--border-color);
        }

        .admin-tab {
            padding: 1rem 1.5rem;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            border-bottom: 3px solid transparent;
            color: var(--text-light);
            transition: all 0.3s;
        }

        .admin-tab.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
        }

        .admin-tab-content {
            display: none;
        }

        .admin-tab-content.active {
            display: block;
        }

        .product-form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .orders-admin-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1.5rem;
        }

        .orders-admin-table thead {
            background: var(--light-bg);
        }

        .orders-admin-table th, .orders-admin-table td {
            padding: 0.8rem;
            text-align: right;
            border-bottom: 1px solid var(--border-color);
        }

        .orders-admin-table tr:hover {
            background: var(--light-bg);
        }

        .status-badge {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: bold;
        }

        .status-badge.pending {
            background: #fef3c7;
            color: #92400e;
        }

        .status-badge.confirmed {
            background: #dbeafe;
            color: #1e40af;
        }

        .status-badge.shipped {
            background: #dcfce7;
            color: #15803d;
        }

        .status-badge.delivered {
            background: #c7d2fe;
            color: #3730a3;
        }

        .status-badge.cancelled {
            background: #fee2e2;
            color: #991b1b;
        }

        .action-select {
            padding: 0.4rem;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            cursor: pointer;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 1.5rem;
            border-radius: 8px;
        }

        .stat-card h3 {
            color: white;
            margin-bottom: 0.5rem;
            opacity: 0.9;
        }

        .stat-card .value {
            font-size: 2rem;
            font-weight: bold;
        }

        .reports-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1.5rem;
            background: var(--light-bg);
            border-radius: 8px;
            overflow: hidden;
        }

        .reports-table thead {
            background: white;
        }

        .reports-table th, .reports-table td {
            padding: 1rem;
            text-align: right;
            border-bottom: 1px solid var(--border-color);
        }

        .reports-table tr:hover {
            background: white;
        }

        footer {
            background: var(--text-dark);
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 3rem;
        }

        @media (max-width: 768px) {
            .products-section {
                flex-direction: column;
            }

            .filters-sidebar {
                width: 100%;
            }

            .product-detail {
                flex-direction: column;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }

            .nav-items {
                gap: 0.5rem;
                font-size: 0.85rem;
            }

            .hero h1 {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo" onclick="adminLoggedIn && showLogoSettings()">
                <img id="logoImage" class="logo-image" src="https://agi-prod-file-upload-public-main-use1.s3.amazonaws.com/d6487fd0-41c3-4706-af9c-42c70d6a6a23" alt="Ø§Ù„Ù„ÙˆØºÙˆ">
                <div class="logo-text">
                    <span>Ù…ØµØ±ÙˆÙÙŠ</span>
                    <small id="storeSubtitle">Ø§Ù„Ø¨Ù‚Ø§Ù„Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</small>
                </div>
            </div>
            <ul class="nav-items">
                <li><button onclick="goToPage('home')">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button></li>
                <li><button onclick="goToPage('categories')">Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</button></li>
                <li><button onclick="goToPage('products')">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</button></li>
                <li><button onclick="goToPage('contact')">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</button></li>
                <li><button onclick="goToPage('account')">Ø­Ø³Ø§Ø¨ÙŠ</button></li>
                <li><button class="admin-btn" onclick="showAdminLogin()">Ø¥Ø¯Ø§Ø±Ø©</button></li>
                <li class="cart-icon">
                    <button onclick="goToPage('cart')">Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚</button>
                    <span class="cart-count" id="cartCount">0</span>
                </li>
            </ul>
        </div>
    </header>

    <div class="main-container">
        <!-- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
        <div class="page active" id="home">
            <div class="hero">
                <h1>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…ØªØ¬Ø± Ù…ØµØ±ÙˆÙÙŠ</h1>
                <p>Ø¨Ù‚Ø§Ù„Ø© Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© ØªØ®Ø¯Ù… Ø£Ø­ÙŠØ§Ø¡ Ø§Ù„Ø¶Ø§ÙŠØ©ØŒ Ù„Ø¨Ù„Ø§Ø¯ØŒ ÙˆØ§Ù„Ù‚Ø±ÙŠØ©</p>
                <button class="btn" onclick="goToPage('products')">ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù†</button>
            </div>

            <h2 style="margin-bottom: 1.5rem;">Ø§Ù„Ø£Ø­ÙŠØ§Ø¡ Ø§Ù„Ù…Ø®Ø¯ÙˆÙ…Ø©</h2>
            <div class="neighborhoods">
                <div class="neighborhood-card" onclick="filterByNeighborhood('Ø§Ù„Ø¶Ø§ÙŠØ©')">
                    <h3>Ø­ÙŠ Ø§Ù„Ø¶Ø§ÙŠØ©</h3>
                    <p>Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„: 200 Ø¯Ø¬</p>
                </div>
                <div class="neighborhood-card" onclick="filterByNeighborhood('Ù„Ø¨Ù„Ø§Ø¯')">
                    <h3>Ø­ÙŠ Ù„Ø¨Ù„Ø§Ø¯</h3>
                    <p>Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„: 200 Ø¯Ø¬</p>
                </div>
                <div class="neighborhood-card" onclick="filterByNeighborhood('Ø§Ù„Ù‚Ø±ÙŠØ©')">
                    <h3>Ø­ÙŠ Ø§Ù„Ù‚Ø±ÙŠØ©</h3>
                    <p>Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„: 250 Ø¯Ø¬</p>
                </div>
            </div>
        </div>

        <!-- ØµÙØ­Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù… -->
        <div class="page" id="categories">
            <h1>Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</h1>
            <div class="categories-grid" style="margin-top: 2rem;">
                <div class="category-item active" onclick="filterByCategory('Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª')">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</div>
                <div class="category-item" onclick="filterByCategory('Ø§Ù„ÙÙˆØ§ÙƒÙ‡ ÙˆØ§Ù„Ø®Ø¶Ø§Ø±')">Ø§Ù„ÙÙˆØ§ÙƒÙ‡ ÙˆØ§Ù„Ø®Ø¶Ø§Ø±</div>
                <div class="category-item" onclick="filterByCategory('Ø§Ù„Ø£Ù„Ø¨Ø§Ù† ÙˆØ§Ù„Ø¬Ø¨Ù†')">Ø§Ù„Ø£Ù„Ø¨Ø§Ù† ÙˆØ§Ù„Ø¬Ø¨Ù†</div>
                <div class="category-item" onclick="filterByCategory('Ø§Ù„Ù„Ø­ÙˆÙ… ÙˆØ§Ù„Ø¯ÙˆØ§Ø¬Ù†')">Ø§Ù„Ù„Ø­ÙˆÙ… ÙˆØ§Ù„Ø¯ÙˆØ§Ø¬Ù†</div>
                <div class="category-item" onclick="filterByCategory('Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª')">Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª</div>
                <div class="category-item" onclick="filterByCategory('Ø§Ù„Ø­Ø¨ÙˆØ¨ ÙˆØ§Ù„Ù…Ø¹ÙƒØ±ÙˆÙ†Ø©')">Ø§Ù„Ø­Ø¨ÙˆØ¨ ÙˆØ§Ù„Ù…Ø¹ÙƒØ±ÙˆÙ†Ø©</div>
                <div class="category-item" onclick="filterByCategory('Ø§Ù„Ù…Ø¹Ù„Ø¨Ø§Øª')">Ø§Ù„Ù…Ø¹Ù„Ø¨Ø§Øª</div>
                <div class="category-item" onclick="filterByCategory('Ø§Ù„Ø­Ù„ÙˆÙŠØ§Øª')">Ø§Ù„Ø­Ù„ÙˆÙŠØ§Øª</div>
            </div>
        </div>

        <!-- ØµÙØ­Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
        <div class="page" id="products">
            <h1>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h1>
            <div class="products-section" style="margin-top: 1.5rem;">
                <div class="filters-sidebar">
                    <h3>Ø§Ù„ÙÙ„Ø§ØªØ±</h3>
                    <div class="filter-group">
                        <h4>Ø§Ù„Ø¨Ø­Ø«</h4>
                        <input type="text" id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬..." onkeyup="applyFilters()">
                    </div>
                    <div class="filter-group">
                        <h4>Ø§Ù„Ù‚Ø³Ù…</h4>
                        <select id="categoryFilter" onchange="applyFilters()">
                            <option value="">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</option>
                            <option value="Ø§Ù„ÙÙˆØ§ÙƒÙ‡ ÙˆØ§Ù„Ø®Ø¶Ø§Ø±">Ø§Ù„ÙÙˆØ§ÙƒÙ‡ ÙˆØ§Ù„Ø®Ø¶Ø§Ø±</option>
                            <option value="Ø§Ù„Ø£Ù„Ø¨Ø§Ù† ÙˆØ§Ù„Ø¬Ø¨Ù†">Ø§Ù„Ø£Ù„Ø¨Ø§Ù† ÙˆØ§Ù„Ø¬Ø¨Ù†</option>
                            <option value="Ø§Ù„Ù„Ø­ÙˆÙ… ÙˆØ§Ù„Ø¯ÙˆØ§Ø¬Ù†">Ø§Ù„Ù„Ø­ÙˆÙ… ÙˆØ§Ù„Ø¯ÙˆØ§Ø¬Ù†</option>
                            <option value="Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª">Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª</option>
                            <option value="Ø§Ù„Ø­Ø¨ÙˆØ¨ ÙˆØ§Ù„Ù…Ø¹ÙƒØ±ÙˆÙ†Ø©">Ø§Ù„Ø­Ø¨ÙˆØ¨ ÙˆØ§Ù„Ù…Ø¹ÙƒØ±ÙˆÙ†Ø©</option>
                            <option value="Ø§Ù„Ù…Ø¹Ù„Ø¨Ø§Øª">Ø§Ù„Ù…Ø¹Ù„Ø¨Ø§Øª</option>
                            <option value="Ø§Ù„Ø­Ù„ÙˆÙŠØ§Øª">Ø§Ù„Ø­Ù„ÙˆÙŠØ§Øª</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <h4>Ù†Ø·Ø§Ù‚ Ø§Ù„Ø³Ø¹Ø±</h4>
                        <input type="number" id="minPrice" placeholder="Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø£Ø¯Ù†Ù‰" onchange="applyFilters()">
                        <input type="number" id="maxPrice" placeholder="Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø£Ù‚ØµÙ‰" onchange="applyFilters()">
                    </div>
                    <button class="btn" onclick="clearFilters()" style="width: 100%;">Ù…Ø³Ø­ Ø§Ù„ÙÙ„Ø§ØªØ±</button>
                </div>

                <div class="products-container">
                    <div class="search-bar">
                        <input type="text" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬..." onkeyup="applyFilters()">
                        <button onclick="applyFilters()">ğŸ” Ø¨Ø­Ø«</button>
                    </div>
                    <div class="products-grid" id="productsGrid">
                        <!-- ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- ØµÙØ­Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ -->
        <div class="page" id="productDetail">
            <button class="btn btn-secondary" onclick="goToPage('products')" style="margin-bottom: 1rem;">â† Ø±Ø¬ÙˆØ¹</button>
            <div class="product-detail">
                <div class="product-detail-image" id="detailImage">ğŸ·ï¸</div>
                <div class="product-detail-info">
                    <h1 id="detailName"></h1>
                    <div class="price" id="detailPrice"></div>
                    <span class="category-tag" id="detailCategory"></span>
                    <p class="description" id="detailDescription"></p>
                    <p id="detailStock"></p>

                    <div class="quantity-selector">
                        <button onclick="changeQuantity(-1)">âˆ’</button>
                        <input type="number" id="quantityInput" value="1" min="1">
                        <button onclick="changeQuantity(1)">+</button>
                    </div>

                    <button class="btn" id="addToCartBtn" onclick="addToCart()" style="margin-bottom: 1rem; width: 100%;">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
                    <button class="btn btn-secondary" onclick="goToPage('products')" style="width: 100%;">Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ØªØ³ÙˆÙ‚</button>
                </div>
            </div>
        </div>

        <!-- ØµÙØ­Ø© Ø§Ù„Ø³Ù„Ø© -->
        <div class="page" id="cart">
            <h1>Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚</h1>
            <div id="cartContent">
                <div class="cart-empty">
                    <h2>Ø³Ù„ØªÙƒ ÙØ§Ø±ØºØ©</h2>
                    <button class="btn" onclick="goToPage('products')">Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ³ÙˆÙ‚</button>
                </div>
            </div>
        </div>

        <!-- ØµÙØ­Ø© Ø§Ù„Ø¯ÙØ¹ -->
        <div class="page" id="checkout">
            <h1>Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</h1>
            <form class="checkout-form" onsubmit="processCheckout(event)">
                <h2>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„</h2>
                <div class="form-group">
                    <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                    <input type="text" id="customerName" required>
                </div>
                <div class="form-group">
                    <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                    <input type="tel" id="customerPhone" placeholder="0xxxxxxxxx" required>
                </div>
                <div class="form-group">
                    <label>Ø§Ù„Ø­ÙŠ</label>
                    <select id="customerNeighborhood" required onchange="updateDeliveryFee()">
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø­ÙŠ</option>
                        <option value="Ø§Ù„Ø¶Ø§ÙŠØ©">Ø­ÙŠ Ø§Ù„Ø¶Ø§ÙŠØ© - 200 Ø¯Ø¬</option>
                        <option value="Ù„Ø¨Ù„Ø§Ø¯">Ø­ÙŠ Ù„Ø¨Ù„Ø§Ø¯ - 200 Ø¯Ø¬</option>
                        <option value="Ø§Ù„Ù‚Ø±ÙŠØ©">Ø­ÙŠ Ø§Ù„Ù‚Ø±ÙŠØ© - 250 Ø¯Ø¬</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙØµÙŠÙ„ÙŠ</label>
                    <textarea id="customerAddress" required></textarea>
                </div>

                <h2>Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨</h2>
                <div class="delivery-fee-info">
                    <p>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹: <strong>Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… (COD)</strong></p>
                    <p style="margin-top: 0.5rem;">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <strong id="checkoutTotal">0</strong> Ø¯Ø¬</p>
                    <p style="margin-top: 0.5rem;">Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„: <strong id="deliveryFee">0</strong> Ø¯Ø¬</p>
                </div>

                <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
                    <button type="button" class="btn btn-secondary" onclick="goToPage('cart')" style="flex: 1;">Ø§Ù„Ø¹ÙˆØ¯Ø©</button>
                    <button type="submit" class="btn" style="flex: 1;">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</button>
                </div>
            </form>
        </div>

        <!-- ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ -->
        <div class="confirmation-modal" id="confirmationModal">
            <div class="confirmation-content">
                <h2 style="text-align: center; margin-bottom: 1.5rem; color: var(--primary-color);">âœ“ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</h2>
                <p style="text-align: center; color: var(--text-light); margin-bottom: 1.5rem;">ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø·Ù„Ø¨Ùƒ Ù‚Ø¨Ù„ Ø¥Ø±Ø³Ø§Ù„Ù‡</p>

                <div class="confirmation-item">
                    <strong>Ø§Ù„Ø§Ø³Ù…:</strong>
                    <span id="confName"></span>
                </div>
                <div class="confirmation-item">
                    <strong>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ:</strong>
                    <span id="confPhone"></span>
                </div>
                <div class="confirmation-item">
                    <strong>Ø§Ù„Ø­ÙŠ:</strong>
                    <span id="confNeighborhood"></span>
                </div>
                <div class="confirmation-item">
                    <strong>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</strong>
                    <span id="confAddress"></span>
                </div>
                <div class="confirmation-item">
                    <strong>Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„:</strong>
                    <span id="confDeliveryFee"></span>
                </div>
                <div class="confirmation-item">
                    <strong>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ:</strong>
                    <span id="confTotal" style="font-size: 1.3rem; color: var(--primary-color);"></span>
                </div>

                <div class="confirmation-buttons">
                    <button class="btn btn-secondary" onclick="closeConfirmation()">Ø¥Ù„ØºØ§Ø¡</button>
                    <button class="btn" onclick="submitOrder()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</button>
                </div>
            </div>
        </div>

        <!-- ØµÙØ­Ø© ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨ -->
        <div class="page" id="tracking">
            <h1>ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨</h1>
            <div class="order-tracking">
                <div class="form-group" style="max-width: 400px;">
                    <label>Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨:</label>
                    <input type="text" id="trackingOrderId" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨">
                </div>
                <button class="btn" onclick="searchOrder()" style="margin-bottom: 1.5rem;">Ø¨Ø­Ø«</button>

                <div id="trackingResult"></div>
            </div>
        </div>

        <!-- ØµÙØ­Ø© Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ„ -->
        <div class="page" id="account">
            <div class="account-section">
                <h2>Ø­Ø³Ø§Ø¨ÙŠ</h2>
                <p>Ø£ÙˆØ§Ù…Ø±ÙŠ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©:</p>
                <div class="orders-list" id="myOrdersList">
                    <p style="color: var(--text-light);">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø³Ø§Ø¨Ù‚Ø©</p>
                </div>
            </div>
        </div>

        <!-- Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ -->
        <div class="page" id="contact">
            <h1>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h1>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                <div class="contact-info">
                    <div class="contact-info-icon">ğŸ“</div>
                    <div>
                        <h3>Ø§Ù„Ù‡Ø§ØªÙ</h3>
                        <p>0669986649</p>
                    </div>
                </div>
                <div class="contact-info">
                    <div class="contact-info-icon">ğŸ“</div>
                    <div>
                        <h3>Ø§Ù„Ù…ÙˆÙ‚Ø¹</h3>
                        <p>Ø§Ù„Ø£ØºÙˆØ§Ø· - Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±</p>
                    </div>
                </div>
                <div class="contact-info">
                    <div class="contact-info-icon">â°</div>
                    <div>
                        <h3>Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„</h3>
                        <p>Ù…Ù† 9 ØµØ¨Ø§Ø­Ø§Ù‹ Ø¥Ù„Ù‰ 9 Ù…Ø³Ø§Ø¡Ù‹</p>
                    </div>
                </div>
            </div>

            <form class="contact-form" onsubmit="sendContactMessage(event)">
                <h2>Ø£Ø±Ø³Ù„ Ù„Ù†Ø§ Ø±Ø³Ø§Ù„Ø©</h2>
                <div class="form-group">
                    <label>Ø§Ù„Ø§Ø³Ù…</label>
                    <input type="text" required>
                </div>
                <div class="form-group">
                    <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                    <input type="email" required>
                </div>
                <div class="form-group">
                    <label>Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹</label>
                    <input type="text" required>
                </div>
                <div class="form-group">
                    <label>Ø§Ù„Ø±Ø³Ø§Ù„Ø©</label>
                    <textarea required></textarea>
                </div>
                <button type="submit" class="btn" style="width: 100%;">Ø¥Ø±Ø³Ø§Ù„</button>
            </form>
        </div>

        <!-- Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª -->
        <div class="page" id="policies">
            <div class="policies-content">
                <h1>Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª ÙˆØ§Ù„Ø´Ø±ÙˆØ·</h1>

                <h2>Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø´Ø­Ù† ÙˆØ§Ù„ØªÙˆØµÙŠÙ„</h2>
                <h3>Ø£ÙˆÙ‚Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„</h3>
                <p>ØªØªÙ… Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªÙˆØµÙŠÙ„ ÙŠÙˆÙ…ÙŠØ§Ù‹ Ù…Ù† Ø§Ù„Ø³Ø§Ø¹Ø© 9 ØµØ¨Ø§Ø­Ø§Ù‹ Ø¥Ù„Ù‰ 9 Ù…Ø³Ø§Ø¡Ù‹</p>

                <h3>Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„</h3>
                <ul>
                    <li>Ø­ÙŠ Ø§Ù„Ø¶Ø§ÙŠØ©: 200 Ø¯Ø¬</li>
                    <li>Ø­ÙŠ Ù„Ø¨Ù„Ø§Ø¯: 200 Ø¯Ø¬</li>
                    <li>Ø­ÙŠ Ø§Ù„Ù‚Ø±ÙŠØ©: 250 Ø¯Ø¬</li>
                </ul>

                <h2>Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹ ÙˆØ§Ù„Ø§Ø³ØªØ¨Ø¯Ø§Ù„</h2>
                <p>ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØªØ§Ù„ÙØ© Ø£Ùˆ Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø© Ù…Ù† Ø§Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„.</p>

                <h3>Ø´Ø±ÙˆØ· Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹</h3>
                <ul>
                    <li>ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ù…Ù†ØªØ¬ ÙÙŠ Ø­Ø§Ù„ØªÙ‡ Ø§Ù„Ø£ØµÙ„ÙŠØ©</li>
                    <li>Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø© Ù…Ù† Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</li>
                    <li>ØªÙˆÙÙŠØ± ØµÙˆØ± ÙˆØ§Ø¶Ø­Ø© Ù„Ù„Ù…Ø´ÙƒÙ„Ø©</li>
                </ul>

                <h2>Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</h2>
                <p>Ù†Ø­Ù† Ù†Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø®ØµÙˆØµÙŠØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù…Ù„Ø§Ø¦Ù†Ø§ ÙˆÙÙ‚Ø§Ù‹ Ù„Ù„Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø¯ÙˆÙ„ÙŠØ©.</p>

                <h3>Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¬Ù…Ø¹Ø©</h3>
                <ul>
                    <li>Ø§Ù„Ø§Ø³Ù… ÙˆØ±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</li>
                    <li>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙˆØµÙŠÙ„</li>
                    <li>ØªØ§Ø±ÙŠØ® ÙˆØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</li>
                </ul>

                <h3>Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h3>
                <ul>
                    <li>Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù„ØªÙˆØµÙŠÙ„</li>
                    <li>ØªØ­Ø³ÙŠÙ† Ø®Ø¯Ù…Ø§ØªÙ†Ø§</li>
                    <li>Ø§Ù„ØªÙˆØ§ØµÙ„ Ø­ÙˆÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù„Ø®Ø¯Ù…Ø§Øª</li>
                </ul>
            </div>
        </div>

        <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© -->
        <div class="page" id="adminPanel">
            <div class="admin-panel">
                <h1>Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h1>

                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h3>
                        <div class="value" id="totalOrdersAdmin">0</div>
                    </div>
                    <div class="stat-card">
                        <h3>Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©</h3>
                        <div class="value" id="pendingOrdersAdmin">0</div>
                    </div>
                    <div class="stat-card">
                        <h3>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</h3>
                        <div class="value" id="totalSalesAdmin">0 Ø¯Ø¬</div>
                    </div>
                </div>

                <div class="admin-tabs">
                    <button class="admin-tab active" onclick="switchAdminTab('products')">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</button>
                    <button class="admin-tab" onclick="switchAdminTab('orders')">Ø§Ù„Ø·Ù„Ø¨Ø§Øª</button>
                    <button class="admin-tab" onclick="switchAdminTab('reports')">Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</button>
                </div>

                <!-- ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
                <div class="admin-tab-content active" id="productsTab">
                    <h2>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h2>
                    <form onsubmit="addProduct(event)" style="background: var(--light-bg); padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem;">
                        <div class="product-form-grid">
                            <div class="form-group">
                                <label>Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬</label>
                                <input type="text" id="productName" required>
                            </div>
                            <div class="form-group">
                                <label>Ø§Ù„Ø³Ø¹Ø±</label>
                                <input type="number" id="productPrice" required>
                            </div>
                            <div class="form-group">
                                <label>Ø§Ù„ÙƒÙ…ÙŠØ©</label>
                                <input type="number" id="productStock" required>
                            </div>
                            <div class="form-group">
                                <label>Ø§Ù„Ù‚Ø³Ù…</label>
                                <select id="productCategory" required>
                                    <option value="Ø§Ù„ÙÙˆØ§ÙƒÙ‡ ÙˆØ§Ù„Ø®Ø¶Ø§Ø±">Ø§Ù„ÙÙˆØ§ÙƒÙ‡ ÙˆØ§Ù„Ø®Ø¶Ø§Ø±</option>
                                    <option value="Ø§Ù„Ø£Ù„Ø¨Ø§Ù† ÙˆØ§Ù„Ø¬Ø¨Ù†">Ø§Ù„Ø£Ù„Ø¨Ø§Ù† ÙˆØ§Ù„Ø¬Ø¨Ù†</option>
                                    <option value="Ø§Ù„Ù„Ø­ÙˆÙ… ÙˆØ§Ù„Ø¯ÙˆØ§Ø¬Ù†">Ø§Ù„Ù„Ø­ÙˆÙ… ÙˆØ§Ù„Ø¯ÙˆØ§Ø¬Ù†</option>
                                    <option value="Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª">Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª</option>
                                    <option value="Ø§Ù„Ø­Ø¨ÙˆØ¨ ÙˆØ§Ù„Ù…Ø¹ÙƒØ±ÙˆÙ†Ø©">Ø§Ù„Ø­Ø¨ÙˆØ¨ ÙˆØ§Ù„Ù…Ø¹ÙƒØ±ÙˆÙ†Ø©</option>
                                    <option value="Ø§Ù„Ù…Ø¹Ù„Ø¨Ø§Øª">Ø§Ù„Ù…Ø¹Ù„Ø¨Ø§Øª</option>
                                    <option value="Ø§Ù„Ø­Ù„ÙˆÙŠØ§Øª">Ø§Ù„Ø­Ù„ÙˆÙŠØ§Øª</option>
                                </select>
                            </div>                            <div class="form-group">
                                <label>Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© (emoji)</label>
                                <input type="text" id="productIcon" placeholder="Ù…Ø«Ø§Ù„: ğŸ" maxlength="2" value="ğŸ">
                            </div>
                            <div class="form-group">
                                <label>ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬ (1Ã—1) - Ø§Ø®ØªØ± Ù…Ù† Ø¬Ù‡Ø§Ø²Ùƒ</label>
                                <input type="file" id="productImage" accept="image/*" onchange="handleImageUpload(event)">
                                <small style="color: var(--text-light); display: block; margin-top: 0.3rem;">Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡: 1Ã—1 (500Ã—500 Ø¨ÙƒØ³Ù„ Ø£Ùˆ Ø£ÙƒØ¨Ø±)</small>
                                <div id="imagePreview" style="margin-top: 0.8rem; max-width: 100px; max-height: 100px; border-radius: 4px; overflow: hidden; background: var(--light-bg); display: none;">
                                    <img id="previewImg" style="width: 100%; height: 100%; object-fit: cover;">
                                </div>
                            </div>
                    <div class="form-group">
                        <label>Ø§Ù„ÙˆØµÙ</label>
                        <input type="text" id="productDescription" placeholder="ÙˆØµÙ Ù‚ØµÙŠØ±">
                    </div>
                        </div>
                        <button type="submit" class="btn" style="width: 100%;">Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬</button>
                    </form>

                    <h3>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h3>
                    <div id="adminProductsList" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 1rem;"></div>
                </div>

                <!-- ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø·Ù„Ø¨Ø§Øª -->
                <div class="admin-tab-content" id="ordersTab">
                    <h2>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª</h2>
                    <table class="orders-admin-table">
                        <thead>
                            <tr>
                                <th>Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨</th>
                                <th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th>
                                <th>Ø§Ù„Ø­ÙŠ</th>
                                <th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>
                                <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                                <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡</th>
                            </tr>
                        </thead>
                        <tbody id="adminOrdersList"></tbody>
                    </table>
                </div>

                <!-- ØªØ¨ÙˆÙŠØ¨ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± -->
                <div class="admin-tab-content" id="reportsTab">
                    <h2>ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</h2>
                    <table class="reports-table">
                        <thead>
                            <tr>
                                <th>Ø§Ù„Ø­ÙŠ</th>
                                <th>Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</th>
                                <th>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</th>
                                <th>Ù…ØªÙˆØ³Ø· Ø§Ù„Ø·Ù„Ø¨</th>
                            </tr>
                        </thead>
                        <tbody id="reportsTableBody"></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù„ÙˆØºÙˆ -->
        <div class="confirmation-modal" id="logoSettingsModal">
            <div class="confirmation-content" style="max-width: 500px;">
                <h2 style="text-align: center; margin-bottom: 1.5rem;">âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù„ÙˆØºÙˆ</h2>
                <form onsubmit="saveLogo(event)">
                    <div class="form-group">
                        <label>ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø© Ø§Ù„Ù„ÙˆØºÙˆ</label>
                        <input type="file" id="logoFile" accept="image/*" onchange="previewLogo(event)">
                        <small style="color: var(--text-light); display: block; margin-top: 0.3rem;">Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡: 1Ã—1 (200Ã—200 Ø¨ÙƒØ³Ù„)</small>
                    </div>
                    <div class="form-group">
                        <label>Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù„ÙˆØºÙˆ:</label>
                        <div style="background: var(--light-bg); padding: 1rem; border-radius: 8px; display: flex; align-items: center; justify-content: center; min-height: 100px;">
                            <img id="logoPreview" style="max-width: 80px; max-height: 80px; border-radius: 6px; object-fit: contain;">
                        </div>
                    </div>
                    <div class="confirmation-buttons">
                        <button type="button" class="btn btn-secondary" onclick="closeLogo Settings()">Ø¥Ù„ØºØ§Ø¡</button>
                        <button type="submit" class="btn">Ø­ÙØ¸ Ø§Ù„Ù„ÙˆØºÙˆ</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Ù†Ù…ÙˆØ°Ø¬ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠ -->
        <div class="confirmation-modal" id="adminLoginModal">
            <div class="confirmation-content" style="max-width: 400px;">
                <h2 style="text-align: center; margin-bottom: 1.5rem;">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠ</h2>
                <form onsubmit="loginAdmin(event)">
                    <div class="form-group">
                        <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                        <input type="text" id="adminUsername" required>
                    </div>
                    <div class="form-group">
                        <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                        <input type="password" id="adminPassword" required>
                    </div>
                    <div class="confirmation-buttons">
                        <button type="button" class="btn btn-secondary" onclick="closeAdminLogin()">Ø¥Ù„ØºØ§Ø¡</button>
                        <button type="submit" class="btn">Ø¯Ø®ÙˆÙ„</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2024 Ù…ØªØ¬Ø± Ù…ØµØ±ÙˆÙÙŠ - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
        <p>Ù„Ù„ØªÙˆØ§ØµÙ„: 0669986649</p>
    </footer>

    <script>
        // Ø±Ø§Ø¨Ø· API Ù…Ù† Google Sheets
        const API_URL = "https://script.google.com/a/macros/cu-aflou.edu.dz/s/AKfycbwg-StRAPc-BAymZqyRA22ZyDqInx3wBDGuA9xzuTF-YftHGoVtvqEZwVX04HYvO2bThw/exec";

        // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        let products = [];
        let orders = [];
        let cart = [];
        let adminLoggedIn = false;
        let currentUser = null;

        const ADMIN_USERNAME = 'MOURAD';
        const ADMIN_PASSWORD = '1998';
        const WHATSAPP_NUMBER = '0669986649';

        const deliveryFees = {
            'Ø§Ù„Ø¶Ø§ÙŠØ©': 200,
            'Ù„Ø¨Ù„Ø§Ø¯': 200,
            'Ø§Ù„Ù‚Ø±ÙŠØ©': 250
        };

        const neighborhoods = ['Ø§Ù„Ø¶Ø§ÙŠØ©', 'Ù„Ø¨Ù„Ø§Ø¯', 'Ø§Ù„Ù‚Ø±ÙŠØ©'];

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Google Sheets
        async function loadData() {
            try {
                // Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Google Sheets
                const productsRes = await fetch(`${API_URL}?sheet=products&action=getAll`);
                const productsJson = await productsRes.json();
                if (productsJson.success && productsJson.data) {
                    products = productsJson.data;
                }

                // Ø¬Ù„Ø¨ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù…Ù† Google Sheets
                const ordersRes = await fetch(`${API_URL}?sheet=orders&action=getAll`);
                const ordersJson = await ordersRes.json();
                if (ordersJson.success && ordersJson.data) {
                    orders = ordersJson.data;
                }

                // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ù„Ø© Ù…Ù† localStorage ÙÙ‚Ø· (Ù…Ø­Ù„ÙŠØ© Ù„ÙƒÙ„ Ø¬Ù‡Ø§Ø²)
                const savedCart = localStorage.getItem('cart');
                if (savedCart) cart = JSON.parse(savedCart);

                updateCartCount();
                renderProducts();
            } catch (err) {
                console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Google Sheets:', err);
                alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. Ø­Ø§ÙˆÙ„ Ù„Ø§Ø­Ù‚Ø§Ù‹');
                
                // ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£ØŒ Ù†Ø³ØªÙ…Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ø¨Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©
                const savedCart = localStorage.getItem('cart');
                if (savedCart) cart = JSON.parse(savedCart);
                updateCartCount();
            }
        }

        // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ø§Ù„Ø³Ù„Ø© ÙÙ‚Ø· Ù…Ø­Ù„ÙŠØ§Ù‹ Ø§Ù„Ø¢Ù†)
        function saveData() {
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        // Ù†Ù‚Ù„ Ø§Ù„ØµÙØ­Ø§Øª
        function goToPage(pageName) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageName).classList.add('active');

            if (pageName === 'adminPanel' && !adminLoggedIn) {
                showAdminLogin();
                goToPage('home');
            }

            if (pageName === 'products') {
                renderProducts();
            }
            if (pageName === 'cart') {
                renderCart();
            }
            if (pageName === 'checkout') {
                renderCheckout();
            }
            if (pageName === 'account') {
                renderMyOrders();
            }
        }

        // ØªØµÙÙŠØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
        function applyFilters() {
            const searchTerm = document.getElementById('searchInput')?.value.toLowerCase() || '';
            const category = document.getElementById('categoryFilter')?.value || '';
            const minPrice = parseFloat(document.getElementById('minPrice')?.value) || 0;
            const maxPrice = parseFloat(document.getElementById('maxPrice')?.value) || Infinity;

            const filtered = products.filter(p => {
                return (p.name.toLowerCase().includes(searchTerm) || p.description.toLowerCase().includes(searchTerm)) &&
                       (!category || p.category === category) &&
                       p.price >= minPrice &&
                       p.price <= maxPrice;
            });

            displayProducts(filtered);
        }

        function clearFilters() {
            if (document.getElementById('searchInput')) document.getElementById('searchInput').value = '';
            if (document.getElementById('categoryFilter')) document.getElementById('categoryFilter').value = '';
            if (document.getElementById('minPrice')) document.getElementById('minPrice').value = '';
            if (document.getElementById('maxPrice')) document.getElementById('maxPrice').value = '';
            renderProducts();
        }

        function filterByCategory(category) {
            if (category === 'Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª') {
                displayProducts(products);
            } else {
                displayProducts(products.filter(p => p.category === category));
            }
        }

        function filterByNeighborhood(neighborhood) {
            goToPage('products');
            if (document.getElementById('categoryFilter')) {
                document.getElementById('categoryFilter').value = '';
            }
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
        function renderProducts() {
            displayProducts(products);
        }

        function displayProducts(productsToDisplay) {
            const grid = document.getElementById('productsGrid');
            if (!grid) return;

            if (productsToDisplay.length === 0) {
                grid.innerHTML = '<p style="grid-column: 1/-1; text-align: center; color: var(--text-light);">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª</p>';
                return;
            }

            grid.innerHTML = productsToDisplay.map(product => `
                <div class="product-card" onclick="viewProduct(${product.id})">
                    <div class="product-image">
                        ${product.image ? `<img src="${product.image}" alt="${product.name}">` : '<div style="text-align: center; color: #999;">ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬</div>'}
                    </div>
                    <div class="product-info">
                        <div class="product-name">${product.name}</div>
                        <div class="product-price">${product.price} Ø¯Ø¬</div>
                        <div class="product-stock ${product.stock === 0 ? 'stock-out' : product.stock <= 5 ? 'stock-warning' : ''}">
                            ${product.stock === 0 ? 'âŒ ØºÙŠØ± Ù…ØªÙˆÙØ±' : product.stock <= 5 ? `âš ï¸ ${product.stock} Ù…ØªØ¨Ù‚ÙŠ ÙÙ‚Ø·` : `âœ“ ${product.stock} Ù…ØªÙˆÙØ±`}
                        </div>
                        <button class="btn" onclick="event.stopPropagation(); addToCartDirect(${product.id})" ${product.stock === 0 ? 'disabled' : ''}>
                            Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬
        function viewProduct(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            const detailImage = document.getElementById('detailImage');
            if (product.image) {
                detailImage.innerHTML = `<img src="${product.image}" alt="${product.name}">`;
            } else {
                detailImage.innerHTML = `<div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #999;">Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙˆØ±Ø©</div>`;
            }
            document.getElementById('detailName').textContent = product.name;
            document.getElementById('detailPrice').textContent = product.price + ' Ø¯Ø¬';
            document.getElementById('detailCategory').textContent = product.category;
            document.getElementById('detailDescription').textContent = product.description;
            document.getElementById('detailStock').innerHTML = product.stock === 0 ?
                '<span style="color: var(--danger-color);">âŒ ØºÙŠØ± Ù…ØªÙˆÙØ± Ø­Ø§Ù„ÙŠØ§Ù‹</span>' :
                `<span style="color: var(--primary-color);">âœ“ ${product.stock} Ù…ØªÙˆÙØ±</span>`;

            document.getElementById('quantityInput').value = 1;
            document.getElementById('addToCartBtn').disabled = product.stock === 0;
            document.getElementById('addToCartBtn').textContent = product.stock === 0 ? 'ØºÙŠØ± Ù…ØªÙˆÙØ±' : 'Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©';

            currentProduct = product;
            goToPage('productDetail');
        }

        let currentProduct = null;

        function changeQuantity(change) {
            const input = document.getElementById('quantityInput');
            let value = parseInt(input.value) + change;
            if (value < 1) value = 1;
            if (currentProduct && value > currentProduct.stock) value = currentProduct.stock;
            input.value = value;
        }

        // Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©
        function addToCart() {
            if (!currentProduct) return;
            const quantity = parseInt(document.getElementById('quantityInput').value);
            addToCartItem(currentProduct.id, quantity);
        }

        function addToCartDirect(productId) {
            addToCartItem(productId, 1);
        }

        function addToCartItem(productId, quantity) {
            const product = products.find(p => p.id === productId);
            if (!product || product.stock === 0) return;

            const existing = cart.find(item => item.id === productId);
            if (existing) {
                existing.quantity += quantity;
                if (existing.quantity > product.stock) {
                    existing.quantity = product.stock;
                }
            } else {
                cart.push({ id: productId, quantity: Math.min(quantity, product.stock) });
            }

            saveData();
            updateCartCount();
            alert('ØªÙ… Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­');
        }

        function updateCartCount() {
            const count = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cartCount').textContent = count;
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ø³Ù„Ø©
        function renderCart() {
            const cartContent = document.getElementById('cartContent');

            if (cart.length === 0) {
                cartContent.innerHTML = `
                    <div class="cart-empty">
                        <h2>Ø³Ù„ØªÙƒ ÙØ§Ø±ØºØ©</h2>
                        <button class="btn" onclick="goToPage('products')">Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ³ÙˆÙ‚</button>
                    </div>
                `;
                return;
            }

            let total = 0;
            let tableHTML = `
                <table class="cart-table">
                    <thead>
                        <tr>
                            <th>Ø§Ù„Ù…Ù†ØªØ¬</th>
                            <th>Ø§Ù„Ø³Ø¹Ø±</th>
                            <th>Ø§Ù„ÙƒÙ…ÙŠØ©</th>
                            <th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>
                            <th>Ø­Ø°Ù</th>
                        </tr>
                    </thead>
                    <tbody>
            `;

            cart.forEach(item => {
                const product = products.find(p => p.id === item.id);
                if (!product) return;

                const itemTotal = product.price * item.quantity;
                total += itemTotal;

                tableHTML += `
                    <tr>
                        <td>${product.name}</td>
                        <td>${product.price} Ø¯Ø¬</td>
                        <td>
                            <input type="number" value="${item.quantity}" min="1" max="${product.stock}"
                                onchange="updateCartItem(${product.id}, this.value)">
                        </td>
                        <td>${itemTotal} Ø¯Ø¬</td>
                        <td><button class="btn btn-secondary" onclick="removeFromCart(${product.id})">Ø­Ø°Ù</button></td>
                    </tr>
                `;
            });

            tableHTML += `
                    </tbody>
                </table>
                <div class="cart-summary">
                    <div class="summary-row">
                        <span>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:</span>
                        <span>${total} Ø¯Ø¬</span>
                    </div>
                    <div style="display: flex; gap: 1rem;">
                        <button class="btn btn-secondary" onclick="goToPage('products')" style="flex: 1;">Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ØªØ³ÙˆÙ‚</button>
                        <button class="btn" onclick="goToPage('checkout')" style="flex: 1;">Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
                    </div>
                </div>
            `;

            cartContent.innerHTML = tableHTML;
        }

        function updateCartItem(productId, quantity) {
            const item = cart.find(c => c.id === productId);
            const product = products.find(p => p.id === productId);

            if (item && product) {
                quantity = parseInt(quantity);
                if (quantity < 1) quantity = 1;
                if (quantity > product.stock) quantity = product.stock;
                item.quantity = quantity;
                saveData();
                renderCart();
                updateCartCount();
            }
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            saveData();
            renderCart();
            updateCartCount();
        }

        // Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„ØªØ£ÙƒÙŠØ¯
        function renderCheckout() {
            let total = 0;
            cart.forEach(item => {
                const product = products.find(p => p.id === item.id);
                if (product) total += product.price * item.quantity;
            });

            document.getElementById('checkoutTotal').textContent = total;
            updateDeliveryFee();
        }

        function updateDeliveryFee() {
            const neighborhood = document.getElementById('customerNeighborhood').value;
            const fee = deliveryFees[neighborhood] || 0;
            document.getElementById('deliveryFee').textContent = fee;
        }

        function processCheckout(event) {
            event.preventDefault();

            const name = document.getElementById('customerName').value;
            const phone = document.getElementById('customerPhone').value;
            const neighborhood = document.getElementById('customerNeighborhood').value;
            const address = document.getElementById('customerAddress').value;
            const deliveryFee = deliveryFees[neighborhood];

            let total = 0;
            cart.forEach(item => {
                const product = products.find(p => p.id === item.id);
                if (product) total += product.price * item.quantity;
            });

            // Ø¹Ø±Ø¶ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ£ÙƒÙŠØ¯
            document.getElementById('confName').textContent = name;
            document.getElementById('confPhone').textContent = phone;
            document.getElementById('confNeighborhood').textContent = neighborhood;
            document.getElementById('confAddress').textContent = address;
            document.getElementById('confDeliveryFee').textContent = deliveryFee + ' Ø¯Ø¬';
            document.getElementById('confTotal').textContent = (total + deliveryFee) + ' Ø¯Ø¬';

            document.getElementById('confirmationModal').classList.add('active');
        }

        function closeConfirmation() {
            document.getElementById('confirmationModal').classList.remove('active');
        }

        async function submitOrder() {
            const name = document.getElementById('customerName').value;
            const phone = document.getElementById('customerPhone').value;
            const neighborhood = document.getElementById('customerNeighborhood').value;
            const address = document.getElementById('customerAddress').value;

            const orderId = 'ORD' + Date.now();
            let total = 0;
            let orderDetails = '';
            let orderItems = [];

            cart.forEach(item => {
                const product = products.find(p => p.id === item.id);
                if (product) {
                    total += product.price * item.quantity;
                    const itemTotal = product.price * item.quantity;
                    orderDetails += `${product.name} (${item.quantity}x) - ${itemTotal} Ø¯Ø¬\n`;
                    orderItems.push({
                        name: product.name,
                        quantity: item.quantity,
                        price: product.price,
                        total: itemTotal
                    });
                }
            });

            const deliveryFee = deliveryFees[neighborhood];
            const finalTotal = total + deliveryFee;

            // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨
            const order = {
                orderId: orderId,
                customerName: name,
                customerPhone: phone,
                neighborhood: neighborhood,
                address: address,
                total: total,
                deliveryFee: deliveryFee,
                finalTotal: finalTotal,
                date: new Date().toLocaleString('ar-SA'),
                status: 'Ù…Ø¹Ù„Ù‚'
            };

            // Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨ ÙÙŠ Google Sheets
            try {
                const res = await fetch(API_URL, {
                    method: 'POST',
                    body: JSON.stringify({
                        action: 'addOrder',
                        order: order
                    })
                });
                
                const json = await res.json();
                if (json.success) {
                    orders.push(order);
                } else {
                    console.error('Warning: Order not saved to Google Sheets', json.error);
                }
            } catch (err) {
                console.error('Warning: Could not save order to Google Sheets:', err);
                orders.push(order);
            }

            saveData();

            // Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ù„Ù„Ø²Ø¨ÙˆÙ†
            printInvoice(orderId, 'customer', {
                name, phone, neighborhood, address,
                items: orderItems, total, deliveryFee, finalTotal,
                date: order.date
            });

            // Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© ÙˆØ§ØªØ³Ø§Ø¨ ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
            const whatsappMessage = `*Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ #${orderId}*\n\nğŸ‘¤ Ø§Ù„Ø¹Ù…ÙŠÙ„: ${name}\nğŸ“± Ø§Ù„Ù‡Ø§ØªÙ: ${phone}\nğŸ˜ï¸ Ø§Ù„Ø­ÙŠ: ${neighborhood}\nğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${address}\n\nğŸ“¦ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:\n${orderDetails}\nğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total} Ø¯Ø¬\nğŸšš Ø§Ù„ØªÙˆØµÙŠÙ„: ${deliveryFee} Ø¯Ø¬\nğŸ’µ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ: ${finalTotal} Ø¯Ø¬`;

            const whatsappUrl = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(whatsappMessage)}`;
            window.open(whatsappUrl, '_blank');

            // Ø­Ø°Ù Ø§Ù„Ø³Ù„Ø©
            cart = [];
            saveData();
            updateCartCount();

            closeConfirmation();
        }

        function printInvoice(orderId, type, data) {
            const printWindow = window.open('', '', 'height=600,width=400');
            const isAdmin = type === 'admin';

            const invoiceHTML = `
                <!DOCTYPE html>
                <html lang="ar" dir="rtl">
                <head>
                    <meta charset="UTF-8">
                    <title>ÙØ§ØªÙˆØ±Ø© Ø·Ù„Ø¨ #${orderId}</title>
                    <style>
                        body {
                            font-family: Arial, sans-serif;
                            margin: 0;
                            padding: 20px;
                            background: white;
                            color: #333;
                        }
                        .invoice-container {
                            max-width: 400px;
                            margin: 0 auto;
                            border: 2px solid #10b981;
                            padding: 20px;
                            border-radius: 8px;
                        }
                        .header {
                            text-align: center;
                            border-bottom: 2px solid #10b981;
                            padding-bottom: 15px;
                            margin-bottom: 15px;
                        }
                        .header h1 {
                            margin: 0;
                            color: #10b981;
                            font-size: 24px;
                        }
                        .header p {
                            margin: 5px 0;
                            font-size: 12px;
                            color: #666;
                        }
                        .invoice-type {
                            text-align: center;
                            background: ${isAdmin ? '#fef3c7' : '#dcfce7'};
                            padding: 8px;
                            border-radius: 4px;
                            margin-bottom: 15px;
                            font-weight: bold;
                            color: ${isAdmin ? '#92400e' : '#15803d'};
                        }
                        .order-info {
                            background: #f3f4f6;
                            padding: 10px;
                            border-radius: 4px;
                            margin-bottom: 15px;
                            font-size: 13px;
                        }
                        .order-info p {
                            margin: 5px 0;
                        }
                        .order-info strong {
                            color: #10b981;
                        }
                        .items-table {
                            width: 100%;
                            border-collapse: collapse;
                            margin-bottom: 15px;
                            font-size: 12px;
                        }
                        .items-table th {
                            background: #10b981;
                            color: white;
                            padding: 8px;
                            text-align: right;
                            border: 1px solid #059669;
                        }
                        .items-table td {
                            padding: 8px;
                            border: 1px solid #e5e7eb;
                            text-align: right;
                        }
                        .items-table tr:nth-child(even) {
                            background: #f9fafb;
                        }
                        .totals {
                            background: #f3f4f6;
                            padding: 10px;
                            border-radius: 4px;
                            margin-bottom: 15px;
                        }
                        .total-row {
                            display: flex;
                            justify-content: space-between;
                            padding: 5px 0;
                            font-size: 13px;
                            border-bottom: 1px solid #e5e7eb;
                        }
                        .total-row:last-child {
                            border-bottom: none;
                        }
                        .grand-total {
                            display: flex;
                            justify-content: space-between;
                            padding: 10px 0;
                            font-size: 16px;
                            font-weight: bold;
                            color: #10b981;
                        }
                        .footer {
                            text-align: center;
                            border-top: 2px solid #10b981;
                            padding-top: 15px;
                            margin-top: 15px;
                            font-size: 11px;
                            color: #666;
                        }
                        .footer p {
                            margin: 5px 0;
                        }
                        .print-button {
                            width: 100%;
                            padding: 12px;
                            background: #10b981;
                            color: white;
                            border: none;
                            border-radius: 4px;
                            cursor: pointer;
                            font-size: 14px;
                            font-weight: bold;
                            margin-top: 15px;
                        }
                        @media print {
                            .print-button {
                                display: none;
                            }
                            body {
                                margin: 0;
                                padding: 0;
                            }
                        }
                    </style>
                </head>
                <body>
                    <div class="invoice-container">                    <div class="header">
                        <h1>Ù…ØµØ±ÙˆÙÙŠ</h1>
                        <p>Ù…ØªØ¬Ø± Ø§Ù„Ø¨Ù‚Ø§Ù„Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</p>
                    </div>

                        <div class="invoice-type">
                            ${isAdmin ? 'ÙØ§ØªÙˆØ±Ø© Ù…Ø¬Ù‡Ø² Ø§Ù„Ø·Ù„Ø¨ÙŠØ©' : 'ÙØ§ØªÙˆØ±Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„'}
                        </div>

                        <div class="order-info">
                            <p><strong>Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨:</strong> ${orderId}</p>
                            <p><strong>Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª:</strong> ${data.date}</p>
                            <p><strong>Ø§Ù„Ø¹Ù…ÙŠÙ„:</strong> ${data.name}</p>
                            <p><strong>Ø§Ù„Ù‡Ø§ØªÙ:</strong> ${data.phone}</p>
                            <p><strong>Ø§Ù„Ø­ÙŠ:</strong> ${data.neighborhood}</p>
                            <p><strong>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</strong> ${data.address}</p>
                        </div>

                        <table class="items-table">
                            <thead>
                                <tr>
                                    <th>Ø§Ù„Ù…Ù†ØªØ¬</th>
                                    <th>Ø§Ù„ÙƒÙ…ÙŠØ©</th>
                                    <th>Ø§Ù„Ø³Ø¹Ø±</th>
                                    <th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${data.items.map(item => `
                                    <tr>
                                        <td>${item.name}</td>
                                        <td>${item.quantity}</td>
                                        <td>${item.price} Ø¯Ø¬</td>
                                        <td>${item.total} Ø¯Ø¬</td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>

                        <div class="totals">
                            <div class="total-row">
                                <span>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:</span>
                                <span>${data.total} Ø¯Ø¬</span>
                            </div>
                            <div class="total-row">
                                <span>Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„:</span>
                                <span>${data.deliveryFee} Ø¯Ø¬</span>
                            </div>
                            <div class="grand-total">
                                <span>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ:</span>
                                <span>${data.finalTotal} Ø¯Ø¬</span>
                            </div>
                        </div>

                        <div class="footer">
                            <p><strong>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹:</strong> Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… (COD)</p>
                            <p>Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„: Ù…Ù† 9 ØµØ¨Ø§Ø­Ø§Ù‹ Ø¥Ù„Ù‰ 9 Ù…Ø³Ø§Ø¡Ù‹</p>
                            <p>Ù„Ù„ØªÙˆØ§ØµÙ„: 0669986649</p>
                            <p style="margin-top: 10px; border-top: 1px solid #e5e7eb; padding-top: 10px;">
                                Ø´ÙƒØ±Ø§Ù‹ Ù„ØªØ¹Ø§Ù…Ù„Ùƒ Ù…Ø¹Ù†Ø§
                            </p>
                        </div>

                        <button class="print-button" onclick="window.print()">Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ÙØ§ØªÙˆØ±Ø©</button>
                    </div>
                </body>
                </html>
            `;

            printWindow.document.write(invoiceHTML);
            printWindow.document.close();
        }

        function printOrderInvoice(orderId) {
            const order = orders.find(o => o.id === orderId);
            if (!order) return;

            const items = order.items.map(item => {
                const product = products.find(p => p.id === item.id);
                return {
                    name: product.name,
                    quantity: item.quantity,
                    price: product.price,
                    total: product.price * item.quantity
                };
            });

            printInvoice(orderId, 'admin', {
                name: order.customerName,
                phone: order.customerPhone,
                neighborhood: order.neighborhood,
                address: order.address,
                items: items,
                total: order.total,
                deliveryFee: order.deliveryFee,
                finalTotal: order.finalTotal,
                date: order.date
            });
        }

        // ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨
        function searchOrder() {
            const orderId = document.getElementById('trackingOrderId').value;
            const order = orders.find(o => o.id === orderId);

            const result = document.getElementById('trackingResult');

            if (!order) {
                result.innerHTML = '<p style="color: var(--danger-color);">Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨</p>';
                return;
            }

            let statusHTML = '<div class="order-status-timeline">';

            const statuses = [
                { name: 'ØªÙ… Ø§Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„', value: 'Ù…Ø¹Ù„Ù‚' },
                { name: 'ØªÙ… Ø§Ù„ØªØ£ÙƒÙŠØ¯', value: 'Ù…Ø¤ÙƒØ¯' },
                { name: 'ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚', value: 'Ù‚ÙŠØ¯ Ø§Ù„ØªÙˆØµÙŠÙ„' },
                { name: 'ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…', value: 'Ù…Ø³Ù„Ù…' }
            ];

            statuses.forEach((status, index) => {
                const isCompleted = ['Ù…Ø¤ÙƒØ¯', 'Ù‚ÙŠØ¯ Ø§Ù„ØªÙˆØµÙŠÙ„', 'Ù…Ø³Ù„Ù…'].includes(order.status) && index < statuses.length - 1;
                const isCurrent = order.status === status.value;

                statusHTML += `
                    <div class="status-step ${isCompleted ? 'completed' : ''} ${isCurrent ? 'current' : ''}">
                        <div class="status-dot">${index + 1}</div>
                        <div class="status-info">
                            <h4>${status.name}</h4>
                            <p>${isCurrent ? 'ğŸ“ Ø­Ø§Ù„ÙŠØ§Ù‹' : isCompleted ? 'âœ“ ØªÙ…' : 'â³ Ù‚Ø±ÙŠØ¨Ø§Ù‹'}</p>
                        </div>
                    </div>
                `;
            });

            statusHTML += '</div>';

            result.innerHTML = `
                <div style="background: white; padding: 1.5rem; border-radius: 8px;">
                    <h3>Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: ${order.id}</h3>
                    <p>Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©: <strong>${order.status}</strong></p>
                    <p>Ø§Ù„ØªØ§Ø±ÙŠØ®: ${order.date}</p>
                    ${statusHTML}
                </div>
            `;
        }

        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ„
        function renderMyOrders() {
            const myOrdersList = document.getElementById('myOrdersList');

            if (orders.length === 0) {
                myOrdersList.innerHTML = '<p style="color: var(--text-light);">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø³Ø§Ø¨Ù‚Ø©</p>';
                return;
            }

            myOrdersList.innerHTML = orders.map(order => `
                <div class="order-item">
                    <div>
                        <strong>${order.id}</strong>
                        <p style="color: var(--text-light); font-size: 0.9rem;">${order.date}</p>
                    </div>
                    <div style="text-align: right;">
                        <p>${order.finalTotal} Ø¯Ø¬</p>
                        <span class="status-badge ${order.status === 'Ù…Ø¹Ù„Ù‚' ? 'pending' : order.status === 'Ù…Ø¤ÙƒØ¯' ? 'confirmed' : order.status === 'Ù‚ÙŠØ¯ Ø§Ù„ØªÙˆØµÙŠÙ„' ? 'shipped' : order.status === 'Ù…Ø³Ù„Ù…' ? 'delivered' : 'cancelled'}">[${order.status}]</span>
                    </div>
                </div>
            `).join('');
        }

        // Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
        function showAdminLogin() {
            document.getElementById('adminLoginModal').classList.add('active');
        }

        function closeAdminLogin() {
            document.getElementById('adminLoginModal').classList.remove('active');
        }

        function loginAdmin(event) {
            event.preventDefault();
            const username = document.getElementById('adminUsername').value;
            const password = document.getElementById('adminPassword').value;

            if (username === ADMIN_USERNAME && password === ADMIN_PASSWORD) {
                adminLoggedIn = true;
                closeAdminLogin();
                goToPage('adminPanel');
                loadAdminPanel();
            } else {
                alert('Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
            }
        }

        function loadAdminPanel() {
            updateAdminStats();
            renderAdminProducts();
            renderAdminOrders();
            renderReports();
        }

        function updateAdminStats() {
            document.getElementById('totalOrdersAdmin').textContent = orders.length;
            document.getElementById('pendingOrdersAdmin').textContent = orders.filter(o => o.status === 'Ù…Ø¹Ù„Ù‚').length;

            const totalSales = orders.reduce((sum, order) => sum + order.finalTotal, 0);
            document.getElementById('totalSalesAdmin').textContent = totalSales + ' Ø¯Ø¬';
        }

        let uploadedImageData = '';
        let logoImageData = '';

        function handleImageUpload(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    uploadedImageData = e.target.result;
                    const preview = document.getElementById('imagePreview');
                    const previewImg = document.getElementById('previewImg');
                    previewImg.src = uploadedImageData;
                    preview.style.display = 'block';
                };
                reader.readAsDataURL(file);
            }
        }

        async function addProduct(event) {
            event.preventDefault();

            const name = document.getElementById('productName').value;
            const price = parseFloat(document.getElementById('productPrice').value);
            const stock = parseInt(document.getElementById('productStock').value);
            const category = document.getElementById('productCategory').value;
            const icon = document.getElementById('productIcon').value || 'ğŸ“¦';
            const image = uploadedImageData || '';
            const description = document.getElementById('productDescription').value;

            const newProduct = {
                name,
                price,
                stock,
                category,
                icon,
                image,
                description
            };

            try {
                const res = await fetch(API_URL, {
                    method: 'POST',
                    body: JSON.stringify({
                        action: 'addProduct',
                        product: newProduct
                    })
                });

                const json = await res.json();
                if (json.success) {
                    // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ø¹ ID Ù…Ù† Google Sheets
                    const productWithId = {
                        id: json.data.id,
                        ...newProduct
                    };
                    products.push(productWithId);

                    event.target.reset();
                    uploadedImageData = '';
                    document.getElementById('imagePreview').style.display = 'none';
                    renderAdminProducts();
                    renderProducts();
                    alert('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­ Ø¥Ù„Ù‰ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
                } else {
                    console.error('Error:', json.error);
                    alert('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬');
                }
            } catch (err) {
                console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ Google Sheets:', err);
                alert('âŒ ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ Ø­Ø§ÙˆÙ„ Ù„Ø§Ø­Ù‚Ø§Ù‹');
            }
        }

        function renderAdminProducts() {
            const list = document.getElementById('adminProductsList');

            list.innerHTML = products.map(product => `
                <div class="card" style="padding: 1rem; background: var(--light-bg);">
                    <div style="margin-bottom: 0.5rem;">
                        ${product.image ? `<img src="${product.image}" alt="${product.name}" style="width: 100%; height: 80px; object-fit: cover; border-radius: 4px; margin-bottom: 0.5rem;">` : '<div style="width: 100%; height: 80px; background: #e5e7eb; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: #999; margin-bottom: 0.5rem;">Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙˆØ±Ø©</div>'}
                    </div>
                    <h4>${product.name}</h4>
                    <p style="font-size: 0.9rem; color: var(--text-light); margin: 0.3rem 0;">Ø§Ù„Ø³Ø¹Ø±: ${product.price} Ø¯Ø¬</p>
                    <p style="font-size: 0.9rem; color: var(--text-light); margin: 0.3rem 0;">Ø§Ù„Ù…Ø®Ø²ÙˆÙ†: ${product.stock}</p>
                    <div style="display: flex; gap: 0.5rem; margin-top: 1rem;">
                        <button class="btn" style="flex: 1; padding: 0.4rem;" onclick="editProduct(${product.id})">ØªØ¹Ø¯ÙŠÙ„</button>
                        <button class="btn btn-secondary" style="flex: 1; padding: 0.4rem;" onclick="deleteProduct(${product.id})">Ø­Ø°Ù</button>
                    </div>
                </div>
            `).join('');
        }

        async function editProduct(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            const newPrice = prompt('Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯:', product.price);
            const newStock = prompt('Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ø¬Ø¯ÙŠØ¯:', product.stock);

            if (newPrice === null && newStock === null) return;

            if (newPrice !== null) product.price = parseFloat(newPrice);
            if (newStock !== null) product.stock = parseInt(newStock);

            try {
                const res = await fetch(API_URL, {
                    method: 'POST',
                    body: JSON.stringify({
                        action: 'updateProduct',
                        product: product
                    })
                });

                const json = await res.json();
                if (json.success) {
                    renderAdminProducts();
                    renderProducts();
                    alert('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†ØªØ¬ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
                } else {
                    console.error('Error:', json.error);
                    alert('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†ØªØ¬');
                }
            } catch (err) {
                console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù†ØªØ¬:', err);
                alert('âŒ ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ Ø­Ø§ÙˆÙ„ Ù„Ø§Ø­Ù‚Ø§Ù‹');
            }
        }

        async function deleteProduct(productId) {
            if (!confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ØŸ')) return;

            try {
                const res = await fetch(API_URL, {
                    method: 'POST',
                    body: JSON.stringify({
                        action: 'deleteProduct',
                        productId: productId
                    })
                });

                const json = await res.json();
                if (json.success && json.data.deleted) {
                    products = products.filter(p => p.id != productId);
                    renderAdminProducts();
                    renderProducts();
                    alert('âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
                } else {
                    alert('âŒ ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬');
                }
            } catch (err) {
                console.error('Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬:', err);
                alert('âŒ ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ Ø­Ø§ÙˆÙ„ Ù„Ø§Ø­Ù‚Ø§Ù‹');
            }
        }

        function renderAdminOrders() {
            const list = document.getElementById('adminOrdersList');

            if (orders.length === 0) {
                list.innerHTML = '<tr><td colspan="6" style="text-align: center; color: var(--text-light);">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª</td></tr>';
                return;
            }

            list.innerHTML = orders.map(order => `
                <tr>
                    <td>${order.id}</td>
                    <td>${order.customerName}</td>
                    <td>${order.neighborhood}</td>
                    <td>${order.finalTotal} Ø¯Ø¬</td>
                    <td>
                        <select class="action-select" onchange="updateOrderStatus('${order.id}', this.value)">
                            <option value="Ù…Ø¹Ù„Ù‚" ${order.status === 'Ù…Ø¹Ù„Ù‚' ? 'selected' : ''}>Ù…Ø¹Ù„Ù‚</option>
                            <option value="Ù…Ø¤ÙƒØ¯" ${order.status === 'Ù…Ø¤ÙƒØ¯' ? 'selected' : ''}>Ù…Ø¤ÙƒØ¯</option>
                            <option value="Ù‚ÙŠØ¯ Ø§Ù„ØªÙˆØµÙŠÙ„" ${order.status === 'Ù‚ÙŠØ¯ Ø§Ù„ØªÙˆØµÙŠÙ„' ? 'selected' : ''}>Ù‚ÙŠØ¯ Ø§Ù„ØªÙˆØµÙŠÙ„</option>
                            <option value="Ù…Ø³Ù„Ù…" ${order.status === 'Ù…Ø³Ù„Ù…' ? 'selected' : ''}>Ù…Ø³Ù„Ù…</option>
                            <option value="Ù…Ù„ØºÙ‰" ${order.status === 'Ù…Ù„ØºÙ‰' ? 'selected' : ''}>Ù…Ù„ØºÙ‰</option>
                        </select>
                    </td>
                    <td>
                        <button class="btn btn-secondary" style="padding: 0.4rem 0.8rem; font-size: 0.85rem;" onclick="viewOrderDetails('${order.id}')">Ø¹Ø±Ø¶</button>
                    </td>
                </tr>
            `).join('');
        }

        async function updateOrderStatus(orderId, newStatus) {
            const order = orders.find(o => o.id === orderId);
            if (order) {
                order.status = newStatus;
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø© ÙÙŠ Google Sheets
                try {
                    const res = await fetch(API_URL, {
                        method: 'POST',
                        body: JSON.stringify({
                            action: 'updateOrderStatus',
                            orderId: orderId,
                            status: newStatus
                        })
                    });

                    const json = await res.json();
                    if (!json.success) {
                        console.error('Warning: Could not update order status in Google Sheets', json.error);
                    }
                } catch (err) {
                    console.error('Warning: Could not update order status:', err);
                }
                
                updateAdminStats();
            }
        }

        function viewOrderDetails(orderId) {
            const order = orders.find(o => o.id === orderId);
            if (!order) return;

            let details = `Ø§Ù„Ø·Ù„Ø¨: ${order.id}\nØ§Ù„Ø¹Ù…ÙŠÙ„: ${order.customerName}\nØ§Ù„Ù‡Ø§ØªÙ: ${order.customerPhone}\nØ§Ù„Ø­ÙŠ: ${order.neighborhood}\nØ§Ù„Ø¹Ù†ÙˆØ§Ù†: ${order.address}\n\nØ§Ù„Ù…Ù†ØªØ¬Ø§Øª:\n`;

            order.items.forEach(item => {
                const product = products.find(p => p.id === item.id);
                if (product) {
                    details += `- ${product.name} (${item.quantity}x) = ${product.price * item.quantity} Ø¯Ø¬\n`;
                }
            });

            details += `\nØ§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${order.total} Ø¯Ø¬\nØ§Ù„ØªÙˆØµÙŠÙ„: ${order.deliveryFee} Ø¯Ø¬\nØ§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ: ${order.finalTotal} Ø¯Ø¬`;

            alert(details);
        }

        function renderReports() {
            const tbody = document.getElementById('reportsTableBody');

            const report = {};
            neighborhoods.forEach(n => {
                report[n] = { orders: 0, sales: 0 };
            });

            orders.forEach(order => {
                if (report[order.neighborhood]) {
                    report[order.neighborhood].orders++;
                    report[order.neighborhood].sales += order.finalTotal;
                }
            });

            tbody.innerHTML = Object.entries(report).map(([neighborhood, data]) => `
                <tr>
                    <td>${neighborhood}</td>
                    <td>${data.orders}</td>
                    <td>${data.sales} Ø¯Ø¬</td>
                    <td>${data.orders > 0 ? (data.sales / data.orders).toFixed(0) + ' Ø¯Ø¬' : '0 Ø¯Ø¬'}</td>
                </tr>
            `).join('');
        }

        function switchAdminTab(tabName) {
            document.querySelectorAll('.admin-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.admin-tab-content').forEach(content => content.classList.remove('active'));

            event.target.classList.add('active');
            document.getElementById(tabName + 'Tab').classList.add('active');
        }

        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªÙˆØ§ØµÙ„
        function sendContactMessage(event) {
            event.preventDefault();
            alert('Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙˆØ§ØµÙ„Ùƒ Ù…Ø¹Ù†Ø§ØŒ Ø³ÙŠØªÙ… Ø§Ù„Ø±Ø¯ Ø¹Ù„ÙŠÙƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹');
            event.target.reset();
        }

        // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù„ÙˆØºÙˆ
        function showLogoSettings() {
            document.getElementById('logoSettingsModal').classList.add('active');
            const logoImage = document.getElementById('logoImage');
            document.getElementById('logoPreview').src = logoImage.src;
        }

        function closeLogoSettings() {
            document.getElementById('logoSettingsModal').classList.remove('active');
        }

        function previewLogo(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    logoImageData = e.target.result;
                    document.getElementById('logoPreview').src = logoImageData;
                };
                reader.readAsDataURL(file);
            }
        }

        function saveLogo(event) {
            event.preventDefault();
            if (logoImageData) {
                localStorage.setItem('storedLogo', logoImageData);
                document.getElementById('logoImage').src = logoImageData;
                alert('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù„ÙˆØºÙˆ Ø¨Ù†Ø¬Ø§Ø­');
                closeLogoSettings();
            } else {
                alert('ÙŠØ±Ø¬Ù‰ ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø© Ø§Ù„Ù„ÙˆØºÙˆ Ø£ÙˆÙ„Ø§Ù‹');
            }
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù„ÙˆØºÙˆ Ø§Ù„Ù…Ø­ÙÙˆØ¸
        function loadLogo() {
            const savedLogo = localStorage.getItem('storedLogo');
            if (savedLogo) {
                document.getElementById('logoImage').src = savedLogo;
            }
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
        window.addEventListener('DOMContentLoaded', function() {
            loadData();
            loadLogo();
        });
    </script>
</body>
</html>
